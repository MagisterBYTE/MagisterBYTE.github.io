(()=>{"use strict";var e={34:function(e,t,n){var s=n("893"),i=n("294"),r=n("745"),a=n("722"),o=n("655"),l=n("361"),c=n("260"),h=n.n(c);class d extends c.Scene{preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}constructor(){super("Boot")}}class u extends c.Scene{init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);let e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",t=>{e.width=4+460*t})}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png"),this.load.image("star","star.png")}create(){this.scene.start("MainMenu")}constructor(){super("Preloader")}}var g=n("412");let f=new(h()).Events.EventEmitter;class p extends c.Scene{create(){this.add.image(512,384,"background"),this.logo=this.add.image(512,300,"logo").setDepth(100),this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),f.emit("current-scene-ready",this)}changeScene(){this.logoTween&&(this.logoTween.stop(),this.logoTween=null),this.scene.start("MapScene")}moveLogo(e){this.logoTween?this.logoTween.isPlaying()?this.logoTween.pause():this.logoTween.play():this.logoTween=this.tweens.add({targets:this.logo,x:{value:750,duration:3e3,ease:"Back.easeInOut"},y:{value:80,duration:1500,ease:"Sine.easeOut"},yoyo:!0,repeat:-1,onUpdate:()=>{e&&this.logo&&e({x:Math.floor(this.logo.x),y:Math.floor(this.logo.y)})}})}constructor(){super("MainMenu"),(0,g._)(this,"logo",void 0),(0,g._)(this,"logoTween",void 0),this.logo=null,this.logoTween=null}}class m extends c.Scene{create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5).setDepth(100),f.emit("current-scene-ready",this)}changeScene(){this.scene.start("MainMenu")}constructor(){super("GameOver")}}class v extends c.Scene{create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Make something fun!\nand share it with us:\nsupport@phaser.io",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5).setDepth(100),f.emit("current-scene-ready",this)}changeScene(){this.scene.start("GameOver")}constructor(){super("Game")}}class y extends c.Scene{preload(){this.load.setPath("assets"),this.load.tilemapTiledJSON("mapSentra","config/map/Sentra.json"),this.load.image("Sentra_HMM3","images/map/HMM3_Tile.png")}create(){this.mapSentra=this.make.tilemap({key:"mapSentra"});let e=this.mapSentra.addTilesetImage("main","Sentra_HMM3");this.mapSentra.createLayer("Ground",e,0,0),this.textPointer=this.add.text(10,10,"Move the mouse",{font:"16px Courier",color:"black"}),this.textPointer.setScrollFactor(0),this.input.on("pointerdown",e=>{this.startCenterX=this.centerX,this.startCenterY=this.centerY,this.isDrag=!0,this.startPosX=e.x,this.startPosY=e.y;let t=e.positionToCamera(this.cameras.main);console.log(t),t.x,t.y,new Phaser.Math.Vector2(0,0),this.selectedTile=this.mapSentra.getTileAtWorldXY(t.x,t.y),null!=this.selectedTile&&(this.selectedTile.index=0)},this),this.input.on("pointerup",e=>{this.isDrag=!1,this.centerX=this.startCenterX-this.deltaX,this.centerY=this.startCenterY-this.deltaY,this.deltaX=0,this.deltaY=0,this.checkOffset()});let t=this.input.keyboard.createCursorKeys(),n={camera:this.cameras.main,left:t.left,right:t.right,up:t.up,down:t.down,acceleration:.04,drag:5e-4,maxSpeed:.7};this.controls=new Phaser.Cameras.Controls.SmoothedKeyControl(n)}update(e,t){this.controls.update(t);let n=this.input.activePointer;if(null!=this.selectedTile){var s,i,r;this.textPointer.setText([`this.selectedTile.index: ${this.selectedTile.index}`,`this.layerBackground?.active: ${null===(s=this.layerBackground)||void 0===s?void 0:s.active}`,`this.layerBackground?.visible: ${null===(i=this.layerBackground)||void 0===i?void 0:i.visible}`,`map?.heightInPixels: ${null===(r=this.mapSentra)||void 0===r?void 0:r.heightInPixels}`,`this.centerX: ${this.centerX}`,`this.deltaX: ${this.deltaX}`,`this.centerY: ${this.centerY}`,`this.deltaY: ${this.deltaY}`,`x: ${n.x}`,`y: ${n.y}`])}this.isDrag&&(this.deltaX=n.x-this.startPosX,this.centerX=this.startCenterX-this.deltaX,this.deltaY=n.y-this.startPosY,this.centerY=this.startCenterY-this.deltaY,this.checkOffset())}checkOffset(){this.mapSentra.widthInPixels,this.game.canvas.width,this.game.canvas.width,this.mapSentra.heightInPixels,this.game.canvas.height,this.game.canvas.height}constructor(){super("MapScene"),(0,g._)(this,"map",void 0),(0,g._)(this,"mapDesert",void 0),(0,g._)(this,"mapJeremi",void 0),(0,g._)(this,"textPointer",void 0),(0,g._)(this,"layerBackground",null),(0,g._)(this,"selectedTile",null),(0,g._)(this,"mapSentra",void 0),(0,g._)(this,"isDrag",!1),(0,g._)(this,"posX",0),(0,g._)(this,"posY",0),(0,g._)(this,"startPosX",0),(0,g._)(this,"startPosY",0),(0,g._)(this,"startCenterX",0),(0,g._)(this,"startCenterY",0),(0,g._)(this,"deltaX",0),(0,g._)(this,"deltaY",0),(0,g._)(this,"centerX",0),(0,g._)(this,"centerY",0),(0,g._)(this,"oldPositionX",0),(0,g._)(this,"oldPositionY",0),(0,g._)(this,"controls",null)}}let x={type:h().AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scene:[d,u,p,v,m,y]},k=e=>new(h()).Game({...x,parent:e}),S=(0,i.forwardRef)(function(e,t){let{currentActiveScene:n}=e,r=(0,i.useRef)();return(0,i.useLayoutEffect)(()=>(void 0===r.current&&(r.current=k("game-container"),t&&(t.current={game:r.current,scene:null})),()=>{r.current&&(r.current.destroy(!0),r.current=void 0)}),[t]),(0,i.useEffect)(()=>(f.on("current-scene-ready",e=>{n instanceof Function&&n(e),t.current.scene=e}),()=>{f.removeListener("current-scene-ready")}),[n,t]),(0,s.jsx)("div",{id:"game-container"})});n("462");let b=document.getElementById("root");document.documentElement.setAttribute("data-theme","light"),b&&r.createRoot(b).render((0,s.jsx)(i.StrictMode,{children:(0,s.jsx)(o.VK,{children:(0,s.jsx)(a.zt,{store:l.Vr,children:(0,s.jsx)(()=>{let[e,t]=(0,i.useState)(!0),n=(0,i.useRef)(),[r,a]=(0,i.useState)({x:0,y:0});return(0,s.jsxs)("div",{id:"app",children:[(0,s.jsx)(S,{ref:n,currentActiveScene:e=>{t("MainMenu"!==e.scene.key)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"button",onClick:()=>{var e;let t=null===(e=n.current)||void 0===e?void 0:e.scene;t&&"MainMenu"===t.scene.key&&t.changeScene()},children:"Change Scene"})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{disabled:e,className:"button",onClick:()=>{var e;let t=null===(e=n.current)||void 0===e?void 0:e.scene;t&&"MainMenu"===t.scene.key&&t.moveLogo(e=>{let{x:t,y:n}=e;a({x:t,y:n})})},children:"Toggle Movement"})}),(0,s.jsxs)("div",{className:"spritePosition",children:["Sprite Position:",(0,s.jsx)("pre",{children:`{
  x: ${r.x}
  y: ${r.y}
}`})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"button",onClick:()=>{var e;let t=null===(e=n.current)||void 0===e?void 0:e.scene;if(t){let e=h().Math.Between(64,t.scale.width-64),n=h().Math.Between(64,t.scale.height-64),s=t.add.sprite(e,n,"star");t.add.tween({targets:s,duration:500+1e3*Math.random(),alpha:0,yoyo:!0,repeat:-1})}},children:"Add New Sprite"})})]})]})},{})})})}))}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(s,i){if(1&i&&(s=this(s)),8&i||"object"==typeof s&&s&&(4&i&&s.__esModule||16&i&&"function"==typeof s.then))return s;var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(function(e){a[e]=function(){return s[e]}});return a.default=function(){return s},n.d(r,a),r}})(),n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=function(t,s,i,r){if(s){r=r||0;for(var a=e.length;a>0&&e[a-1][2]>r;a--)e[a]=e[a-1];e[a]=[s,i,r];return}for(var o=1/0,a=0;a<e.length;a++){for(var s=e[a][0],i=e[a][1],r=e[a][2],l=!0,c=0;c<s.length;c++)(!1&r||o>=r)&&Object.keys(n.O).every(function(e){return n.O[e](s[c])})?s.splice(c--,1):(l=!1,r<o&&(o=r));if(l){e.splice(a--,1);var h=i();void 0!==h&&(t=h)}}return t}})(),n.rv=function(){return"1.0.0-beta.5"},(()=>{var e={980:0,993:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i=s[0],r=s[1],a=s[2],o,l,c=0;if(i.some(function(t){return 0!==e[t]})){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(a)var h=a(n)}for(t&&t(s);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(h)},s=self.webpackChunklotus_denova_web_client=self.webpackChunklotus_denova_web_client||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),n.ruid="bundler=rspack@1.0.0-beta.5";var s=n.O(void 0,["534","388","707","348","549","900","993","249","18","289","103","427","755","777","461","106","440","500","240","334","788","687","748","180","837","607","76","476","168"],function(){return n("34")});s=n.O(s)})();